/**
 * Onboarding Modal Styles
 * 引导页对话框样式
 */

.onboarding-modal .ant-modal-content {
  border-radius: 16px !important;
  overflow: hidden;
  /* Lighter shadow to avoid heavy compositing */
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.24) !important;
}

.onboarding-modal .ant-modal-body {
  padding: 40px 24px !important;
}

/* Hover effect for primary button */
.onboarding-modal .ant-btn-primary:hover {
  transform: none !important;
  box-shadow: none !important;
  transition: none !important;
}

/* Hover effect for text button */
.onboarding-modal .ant-btn-text:hover {
  color: rgba(0, 0, 0, 0.75) !important;
  background: rgba(0, 0, 0, 0.04) !important;
  border-radius: 8px;
  transition: none !important;
}

/* Animation for modal entrance */
.onboarding-modal.ant-modal {
  animation: none !important;
  transform: none !important; /* Avoid GPU transforms */
}

/* Disable mask animation/transitions to prevent flicker */
.onboarding-modal-root .ant-modal-mask {
  animation: none !important;
  transition: none !important;
  z-index: 10000 !important;
}

/* Removed entrance keyframes to reduce motion */

/* Force wrapper visibility in case global CSS toggles it */
.onboarding-modal-root .ant-modal-wrap {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
  animation: none !important;
  transition: none !important;
}

/* Ensure the modal itself is visible */
.onboarding-modal-root .ant-modal {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
  margin: 0 auto !important;
  animation: none !important;
  transition: none !important;
  transform: none !important; /* Avoid any scale/translate remnants */
}

/* Ensure modal content is visible */
.onboarding-modal .ant-modal-content {
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
  animation: none !important;
  transition: none !important;
}

/* Respect user/system reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .onboarding-modal-root .ant-modal,
  .onboarding-modal-root .ant-modal-wrap,
  .onboarding-modal-root .ant-modal-mask,
  .onboarding-modal .ant-modal-content {
    transition: none !important;
    animation: none !important;
  }
}

/* Readable typography for AntD Modal.confirm */
.onboarding-modal .ant-modal-confirm-body .ant-modal-confirm-title {
  color: rgba(0, 0, 0, 0.85) !important;
}
.onboarding-modal .ant-modal-confirm-body .ant-modal-confirm-content {
  color: rgba(0, 0, 0, 0.65) !important;
}

/* Dark theme readability */
.dark .onboarding-modal .ant-modal-content {
  background: #1f1f1f !important;
}
.dark .onboarding-modal .ant-modal-confirm-body .ant-modal-confirm-title {
  color: rgba(255, 255, 255, 0.95) !important;
}
.dark .onboarding-modal .ant-modal-confirm-body .ant-modal-confirm-content {
  color: rgba(255, 255, 255, 0.75) !important;
}

/* Kill AntD motion classes (zoom/fade) for appear/enter/leave to avoid flicker */
.onboarding-modal-root .ant-fade-appear,
.onboarding-modal-root .ant-fade-enter,
.onboarding-modal-root .ant-fade-leave,
.onboarding-modal-root .ant-fade-appear-active,
.onboarding-modal-root .ant-fade-enter-active,
.onboarding-modal-root .ant-fade-leave-active,
.onboarding-modal-root .ant-zoom-appear,
.onboarding-modal-root .ant-zoom-enter,
.onboarding-modal-root .ant-zoom-leave,
.onboarding-modal-root .ant-zoom-appear-active,
.onboarding-modal-root .ant-zoom-enter-active,
.onboarding-modal-root .ant-zoom-leave-active {
  animation: none !important;
  transition: none !important;
}

/* Note: z-index is controlled inline by the rendering service to avoid conflicts with custom mask */

/* Dark theme support */
.dark .onboarding-modal .ant-modal-content {
  background: #1f1f1f !important;
}

.dark .onboarding-modal h2 {
  color: rgba(255, 255, 255, 0.95) !important;
}

.dark .onboarding-modal p {
  color: rgba(255, 255, 255, 0.65) !important;
}

.dark .onboarding-modal .ant-btn-text {
  color: rgba(255, 255, 255, 0.45) !important;
}

.dark .onboarding-modal .ant-btn-text:hover {
  color: rgba(255, 255, 255, 0.75) !important;
  background: rgba(255, 255, 255, 0.08) !important;
}

